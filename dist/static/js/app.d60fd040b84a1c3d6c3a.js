webpackJsonp([1],{"1/oy":function(t,n){},"9M+g":function(t,n){},DafU:function(t,n){},GfHa:function(t,n){},Id91:function(t,n){},Jmt5:function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e("Jmt5"),e("9M+g");var s=e("7+uW"),a=e("ufW0"),o=e.n(a),i=e("e6fC"),r={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var c=e("VU/8")({name:"App"},r,!1,function(t){e("DafU")},null,null).exports,u=e("/ocq"),l=e("BO1k"),p=e.n(l),f=e("mtWM"),d=e.n(f),v={name:"Scrapyr",data:function(){return{env:"production",prefix:"https://jobs.ksl.com",api_prefix:"http://192.168.1.66:5000",jobs:[],total:0,newJobs:0}},methods:{getJobs:function(){var t=this,n=this.api_prefix+"/api/jobs";d.a.get(n).then(function(n){t.jobs=n.data.jobs,t.total=n.data.total,t.countNew()}).catch(function(t){console.error(t)})},countNew:function(){this.newJobs=0;var t=!0,n=!1,e=void 0;try{for(var s,a=p()(this.jobs);!(t=(s=a.next()).done);t=!0)s.value.seen||(this.newJobs+=1)}catch(t){n=!0,e=t}finally{try{!t&&a.return&&a.return()}finally{if(n)throw e}}},markSeen:function(){var t=this,n=this.api_prefix+"/api/jobs/mark_seen";d.a.put(n).then(function(){t.getJobs()}).catch(function(t){console.error(t)})},swipeLeftHandler:function(){this.msg="Swiped Left"},swipeRightHandler:function(){this.msg="Swiped Right"},removeJob:function(t){var n=this,e=this.api_prefix+"/api/jobs/"+t.id+"/hide";d.a.put(e).then(function(){n.getJobs()}).catch(function(t){console.error(t)})}},created:function(){"production"===this.env&&(this.api_prefix="https://career-scraper.herokuapp.com"),this.getJobs()}},b={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container-fluid"},[e("h1",[t._v("Jobs from KSL")]),t._v(" "),t.newJobs>0?e("p",{staticClass:"mb-2"},[t._v("\n    Showing "+t._s(t.jobs.length)+" of "+t._s(t.total)+" jobs. ("+t._s(t.newJobs)+" new)\n    "),e("b-button",{staticClass:"ml-1 px-1 pt-0 pb-0",attrs:{variant:"success",size:"sm"},on:{click:function(n){t.markSeen()}}},[t._v("\n      Mark all seen\n    ")])],1):e("p",{staticClass:"mb-2"},[t._v("\n    Showing "+t._s(t.jobs.length)+" of "+t._s(t.total)+" jobs.\n    "),e("b-button",{staticClass:"ml-1 px-1 pt-0 pb-0",attrs:{variant:"secondary",size:"sm",disabled:""},on:{click:function(n){t.markSeen()}}},[t._v("\n      Mark all seen\n    ")])],1),t._v(" "),t._l(t.jobs,function(n,s){return e("div",{key:s,staticClass:"media",class:{new:!n.seen}},[e("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(e){t.removeJob(n)}}},[t._v("\n        Hide\n      ")]),t._v(" "),e("div",{staticClass:"media-body ml-2"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("a",{attrs:{href:t.prefix+n.url,target:"_blank"}},[t._v("\n            "+t._s(n.name)+"\n          ")])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[t._v("\n          "+t._s(n.employer)+"\n        ")])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[t._v("\n          "+t._s(n.date_posted)+"\n        ")])])])],1)})],2)},staticRenderFns:[]};var h=e("VU/8")(v,b,!1,function(t){e("otTM")},"data-v-72edafec",null).exports;s.a.use(u.a);var _=new u.a({routes:[{path:"/",name:"Jobs",component:h}]});s.a.config.productionTip=!1,s.a.use(o.a),s.a.use(i.a),new s.a({el:"#app",router:_,components:{App:c},template:"<App/>"})},otTM:function(t,n){},zj2Q:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.d60fd040b84a1c3d6c3a.js.map